# Copy this file to .env (if you use .env) or otherwise load these environment variables into your runtime environment.

# Required: The URL where the AIQA API server listens
# Default: (none - must be set)
# Example: http://localhost:4318 or https://server-aiqa.winterwell.com
AIQA_SERVER_URL=http://localhost:4318

# Required: The API key for authentication with the AIQA server
# Default: (none - must be set)
# Go to AIQA Webapp, click on your organisation, then click on "API Keys" to get your API key.
AIQA_API_KEY=

# Optional: Your organisation ID within AIQA
# Default: (empty - can also be passed programmatically)
# This is used when retrieving spans from the server. Not needed for tracing, which uses the API key to authenticate.
AIQA_ORGANISATION_ID=

# Optional: Component tag to add to all spans (e.g., "mynamespace.mysystem")
# Default: (empty)
# This allows you to filter by which component/system generated the spans - e.g. in the AIQA Traces view.
AIQA_COMPONENT_TAG=

# Optional: Sampling rate for traces (0.0 to 1.0)
# Default: 1.0 (sample all traces)
# Set to a value between 0.0 and 1.0 to sample a fraction of traces (e.g., 0.1 = 10%)
# Sampling is done based on the trace-id, so a whole trace is either sampled or not sampled.
AIQA_SAMPLING_RATE=1.0

# Optional: Maximum size for an object string representation in characters (i.e. max input / output size for a span)
# Default: 1m (1,048,576 characters)
# Supports units: k (kilo), m (mega), g (giga), or plain number
AIQA_MAX_OBJECT_STR_CHARS=1m

# Optional: OpenTelemetry Batch Span Processor configuration for memory management
# These environment variables control the OpenTelemetry SDK's BatchSpanProcessor behavior.
# See https://opentelemetry.io/docs/specs/otel/sdk-environment-variables/ for details.

# Maximum queue size for spans awaiting export (default: 2048)
# When this size is reached, new spans will be dropped.
# Increase if you generate many spans quickly and want to avoid drops.
# OTEL_BSP_MAX_QUEUE_SIZE=2048

# Maximum number of spans per export batch (default: 512)
# Must be <= OTEL_BSP_MAX_QUEUE_SIZE
# OTEL_BSP_MAX_EXPORT_BATCH_SIZE=512

# Delay between consecutive export attempts in milliseconds (default: 5000)
# OTEL_BSP_SCHEDULE_DELAY=5000

# Maximum time allowed for exporting data in milliseconds (default: 30000)
# OTEL_BSP_EXPORT_TIMEOUT=30000

# Optional: Comma-separated list of data filters to enable
# Available (and default) filters: RemovePasswords, RemoveJWT, RemoveAuthHeaders, RemoveAPIKeys
# Set to false to disable all filters. Empty string means use default filters.
AIQA_DATA_FILTERS=RemovePasswords, RemoveJWT, RemoveAuthHeaders, RemoveAPIKeys

# Troubleshooting: extra OpenTelemetry exporter logging
#OTEL_LOG_LEVEL=debug  

# Optional: set how AIQA handles combining its otel export with another exporter.
# true => always add the AIQA exporter, including alongside any other exporter
# false => if there is another exporter, do not add the AIQA exporter
# unset => default behaviour: if there's an existing exporter - sniff where it points
AIQA_EXPORTER_FLAG